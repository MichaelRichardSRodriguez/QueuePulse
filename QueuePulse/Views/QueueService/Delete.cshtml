@model QueuePulse.Models.QueueService

@{
    ViewData["Title"] = "Delete Service";
}

<div class="container col-md-8 mt-4">
    <div class="row card p-3 border-top border-2 shadow rounded" style="background-color:azure;">
        <h4><strong>Service Deletion</strong></h4>
        <h5>Are you sure you want to delete this Service?</h5>
        <hr />
        <div class="card-body">
            <dl class="row">
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.Name)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.Name)
                </dd>
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.Description)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.Description)
                </dd>
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.CreatedDate)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.CreatedDate)
                </dd>
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.UpdatedDate)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.UpdatedDate)
                </dd>
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.CreatedBy)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.CreatedBy)
                </dd>
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.UpdatedBy)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.UpdatedBy)
                </dd>
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.Status)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.Status)
                </dd>
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.Department)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.Department.Description)
                </dd>
            </dl>
            <form id="deleteForm" asp-action="Delete" method="post">
                <input type="hidden" asp-for="Id" />
                <button type="button" id="deleteButton" class="btn btn-danger">Delete</button>
                <a asp-action="Index">Back to List</a>
            </form>
        </div>
    </div>
</div>


<script>
    document.getElementById('deleteButton').addEventListener('click', function (event) {
        event.preventDefault();

        //Show SweetAlert Confirmation
        Swal.fire({
            title: "Are you sure?",
            text: "You won't be able to revert this!",
            icon: "warning",
            showCancelButton: true,
            confirmButtonColor: "#3085d6",
            cancelButtonColor: "#d33",
            confirmButtonText: "Yes, delete it!"
        }).then((result) => {
            if (result.isConfirmed) {
                // Swal.fire({
                //     title: "Deleted!",
                //     text: "Your file has been deleted.",
                //     icon: "success"
                // });

                // If confirmed, submit the form
                document.getElementById('deleteForm').submit();
            }
        });
    });


</script>